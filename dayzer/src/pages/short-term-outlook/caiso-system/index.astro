---
import Layout from '../../../layouts/Layout.astro';
import CAISOFundamentalsPage from '../../../components/CAISOFundamentalsPage';
---
<Layout title="CAISO System">
  <CAISOFundamentalsPage client:load />
  
  <script>
    // Handle anchor scroll after page load
    document.addEventListener('DOMContentLoaded', () => {
      // Check if there's a hash in the URL
      if (window.location.hash) {
        // Wait longer for all React components to fully render (especially charts)
        setTimeout(() => {
          const element = document.getElementById(window.location.hash.substring(1));
          if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            // Second scroll after additional delay to ensure it stays
            setTimeout(() => {
              element.scrollIntoView({ behavior: 'smooth', block: 'start' });
              // Third scroll for good measure
              setTimeout(() => {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
              }, 1000);
            }, 1000);
          }
        }, 2000);
      }
    });
  </script>
</Layout> 